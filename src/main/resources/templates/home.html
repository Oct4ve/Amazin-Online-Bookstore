<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Home - Amazin Online Bookstore</title>
  <link rel="stylesheet" href="/styles.css"> <!-- Link to your CSS for styling -->
</head>
<body>

<!-- Navigation Menu -->
<nav>
  <ul>
    <li th:if="${user == null}"><a href="/signup">Sign Up</a></li>
    <li th:if="${user == null}"><a href="/login">Login</a></li>
    <li th:if="${user != null}"><a href="/add_book">Add Book</a></li>
    <li th:if="${user != null}"><a href="/remove_book">Remove Book</a></li>
    <li th:if="${user != null}"><a href="/sort_books">Sort Books</a></li>
    <li th:if="${user != null}"><a href="/search_book">Search Books</a></li>
    <li th:if="${user != null}"><a href="/cart">Shopping Cart</a></li>
    <li th:if="${user != null}"><a href="/previous_purchases">Previous Purchases</a></li>
    <li><a href="/contact">Contact</a></li>
    <li th:if="${user != null}"><a href="/logout">Log Out</a></li>
  </ul>
</nav>

<!-- Main Content -->
<h1>Welcome to Amazin Online Bookstore</h1>
<p th:text="'Logged in as: ' + ${currentUser}"></p>
<h2>Our Collection of Books</h2>

<div>
  <ul>
    <!-- Iterate through the books list passed from the controller -->
    <li th:each="book : ${books}">
      <a th:href="@{'/' + ${book.id} + '/view'}" th:text="${book.title}"></a>
      <a th:if="${user != null}" th:href="@{'/' + ${book.id} + '/edit_book'}">
        <button>Edit</button>
      </a>
    </li>
  </ul>
</div>

</body>
</html>
