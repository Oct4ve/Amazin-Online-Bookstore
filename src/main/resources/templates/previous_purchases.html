<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Previous Purchases</title>
</head>
<body>

<!-- Navigation Menu -->
<nav>
    <ul>
        <li><a href="/cart">Shopping Cart</a></li>
        <li><a href="/">Home</a></li>
    </ul>
</nav>

<!-- Previous Purchases Section -->
<h1>Your Previous Purchases</h1>

<div>
    <!-- Check if there are any purchases -->
    <div th:if="${purchases == null}">
        <p>You have no previous purchases.</p>
    </div>

    <!-- Display purchases if available -->
    <ul th:if="${purchases != null}">
        <li th:each="purchase : ${purchases}">
            <strong th:text="${purchase.getPurchaseDate()}">Purchase Date</strong>:
            <strong th:text="${purchase.calculateTotal()}">Total Price</strong>:
            <ul>
                <li th:each="book : ${purchase.getPurchaseBooks()}">
                    <span th:text="${book.getCartQuantity()}">Quantity</span> -
                    <span th:text="${book.getTitle()}">Book Title</span> -
                    <span th:text="${book.getAuthor()}">Author</span> -
                    <span th:text="${book.getISBN()}">Author</span> -
                    <span th:text="${(book.getPrice() * book.getCartQuantity())}">Price</span>
                </li>
            </ul>
        </li>
    </ul>
</div>

</body>
</html>